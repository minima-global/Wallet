import { Link, useLocation } from "@tanstack/react-router"
import useTranslation from "../../hooks/useTranslation";
import { useState } from "react";
import { useEffect } from "react";

const Navigation = () => {
    const { t } = useTranslation();
    const { pathname } = useLocation();
    const [isAtTop, setIsAtTop] = useState(true);

    useEffect(() => {
        const handleScroll = () => {
            setIsAtTop(window.scrollY === 0);
        };

        window.addEventListener('scroll', handleScroll);

        return () => window.removeEventListener('scroll', handleScroll);
    }, []);

    const NAV_ITEMS = [
        {
            title: t("balance"),
            icon: (
                <svg
                    width="20"
                    height="16"
                    viewBox="0 0 20 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M4 15.5C3.03467 15.5 2.21 15.158 1.526 14.474C0.842 13.79 0.5 12.9653 0.5 12V4C0.5 3.03467 0.842 2.21 1.526 1.526C2.21 0.841999 3.03467 0.5 4 0.5H16C16.9653 0.5 17.79 0.841999 18.474 1.526C19.158 2.21 19.5 3.03467 19.5 4V12C19.5 12.9653 19.158 13.79 18.474 14.474C17.79 15.158 16.9653 15.5 16 15.5H4ZM4 4.25H16C16.3795 4.25 16.7375 4.3045 17.074 4.4135C17.4105 4.5225 17.7192 4.68792 18 4.90975V4C18 3.45 17.8042 2.97917 17.4125 2.5875C17.0208 2.19583 16.55 2 16 2H4C3.45 2 2.97917 2.19583 2.5875 2.5875C2.19583 2.97917 2 3.45 2 4V4.90975C2.28083 4.68792 2.5895 4.5225 2.926 4.4135C3.2625 4.3045 3.6205 4.25 4 4.25ZM2.09225 7.2405L13.323 9.96925C13.4602 10.0026 13.599 10.0042 13.7395 9.974C13.8798 9.94383 14.0071 9.882 14.1212 9.7885L17.7213 6.7635C17.5571 6.46217 17.3221 6.21792 17.0163 6.03075C16.7106 5.84358 16.3718 5.75 16 5.75H4C3.52817 5.75 3.11858 5.88817 2.77125 6.1645C2.42375 6.44067 2.19742 6.79933 2.09225 7.2405Z"
                        fill="currentColor"
                    />
                </svg>
            ),
            href: '/',
        },
        {
            icon: (
                <svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.01953 15.2308C4.29253 14.7423 2.94411 13.8153 1.97428 12.45C1.00445 11.0847 0.519531 9.60133 0.519531 8C0.519531 6.39867 1.00445 4.91533 1.97428 3.55C2.94411 2.18467 4.29253 1.25775 6.01953 0.76925V2.35C4.8362 2.75 3.8737 3.46667 3.13203 4.5C2.39036 5.53333 2.01953 6.7 2.01953 8C2.01953 9.3 2.39036 10.4667 3.13203 11.5C3.8737 12.5333 4.8362 13.25 6.01953 13.65V15.2308ZM14.0195 15.5C11.9375 15.5 10.167 14.7705 8.70803 13.3115C7.24903 11.8525 6.51953 10.082 6.51953 8C6.51953 5.918 7.24903 4.1475 8.70803 2.6885C10.167 1.2295 11.9375 0.5 14.0195 0.5C15.0234 0.5 15.9718 0.685917 16.8648 1.05775C17.7576 1.42958 18.5483 1.94692 19.2368 2.60975L18.183 3.6635C17.6394 3.13917 17.0147 2.73083 16.309 2.4385C15.6032 2.14617 14.84 2 14.0195 2C12.3529 2 10.9362 2.58333 9.76953 3.75C8.60286 4.91667 8.01953 6.33333 8.01953 8C8.01953 9.66667 8.60286 11.0833 9.76953 12.25C10.9362 13.4167 12.3529 14 14.0195 14C14.84 14 15.6032 13.8538 16.309 13.5615C17.0147 13.2692 17.6394 12.8608 18.183 12.3365L19.2368 13.3903C18.5483 14.0531 17.7576 14.5704 16.8648 14.9423C15.9718 15.3141 15.0234 15.5 14.0195 15.5ZM19.8273 11.6538L18.7733 10.6L20.6233 8.75H13.0773V7.25H20.6233L18.7733 5.4L19.8273 4.34625L23.481 8L19.8273 11.6538Z" fill="currentColor" />
                </svg>
            ),
            title: t("send"),
            href: '/send',
        },
        {
            icon: (
                <svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.9805 0.769249C19.7075 1.25775 21.0559 2.18467 22.0257 3.55C22.9956 4.91533 23.4805 6.39867 23.4805 8C23.4805 9.60133 22.9956 11.0847 22.0257 12.45C21.0559 13.8153 19.7075 14.7422 17.9805 15.2307L17.9805 13.65C19.1638 13.25 20.1263 12.5333 20.868 11.5C21.6096 10.4667 21.9805 9.3 21.9805 8C21.9805 6.7 21.6096 5.53333 20.868 4.5C20.1263 3.46667 19.1638 2.75 17.9805 2.35L17.9805 0.769249ZM9.98047 0.499999C12.0625 0.499999 13.833 1.2295 15.292 2.6885C16.751 4.1475 17.4805 5.918 17.4805 8C17.4805 10.082 16.751 11.8525 15.292 13.3115C13.833 14.7705 12.0625 15.5 9.98047 15.5C8.97663 15.5 8.02822 15.3141 7.13522 14.9422C6.24238 14.5704 5.45172 14.0531 4.76322 13.3902L5.81697 12.3365C6.36064 12.8608 6.9853 13.2692 7.69097 13.5615C8.3968 13.8538 9.15997 14 9.98047 14C11.6471 14 13.0638 13.4167 14.2305 12.25C15.3971 11.0833 15.9805 9.66667 15.9805 8C15.9805 6.33333 15.3971 4.91667 14.2305 3.75C13.0638 2.58333 11.6471 2 9.98047 2C9.15997 2 8.3968 2.14617 7.69097 2.4385C6.9853 2.73083 6.36064 3.13917 5.81697 3.6635L4.76322 2.60975C5.45172 1.94692 6.24239 1.42958 7.13522 1.05775C8.02822 0.685916 8.97664 0.499999 9.98047 0.499999ZM4.17272 4.34625L5.22672 5.4L3.37672 7.25L10.9227 7.25L10.9227 8.75L3.37672 8.75L5.22672 10.6L4.17272 11.6537L0.518969 8L4.17272 4.34625Z" fill="currentColor" />
                </svg>
            ),
            title: t("receive"),
            href: '/receive',
        },
        // {
        //   icon: (
        //     <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        //       <path d="M7.95 17.5193L4.75575 14.325L5.825 13.2808L7.95 15.4057L12.175 11.1558L13.2443 12.225L7.95 17.5193ZM2 2V3.077C2 3.16667 2.02883 3.24033 2.0865 3.298C2.14417 3.35583 2.21792 3.38475 2.30775 3.38475H15.6923C15.7821 3.38475 15.8558 3.35583 15.9135 3.298C15.9712 3.24033 16 3.16667 16 3.077V2H2ZM4.8115 4.8845L5.20775 6.06725C5.23342 6.13142 5.27183 6.18108 5.323 6.21625C5.37433 6.25158 5.43208 6.26925 5.49625 6.26925H12.5038C12.5679 6.26925 12.6257 6.25158 12.677 6.21625C12.7282 6.18108 12.7666 6.13142 12.7923 6.06725L13.1885 4.8845H4.8115ZM5.49625 7.76925C5.10775 7.76925 4.75608 7.65608 4.44125 7.42975C4.12658 7.20342 3.90575 6.90442 3.77875 6.53275L3.23075 4.8845H2.30775C1.80908 4.8845 1.38308 4.70792 1.02975 4.35475C0.676583 4.00158 0.5 3.57567 0.5 3.077V0.5H17.5V3.077C17.5 3.57567 17.3234 4.00158 16.9703 4.35475C16.6169 4.70792 16.1909 4.8845 15.6923 4.8845H14.7693L14.1095 6.59425C13.9723 6.93908 13.7532 7.22108 13.452 7.44025C13.1507 7.65958 12.8109 7.76925 12.4327 7.76925H5.49625Z" fill="currentColor" />
        //     </svg>
        //   ),
        //   title: "Status",
        //   href: "/status",
        // },
        {
            icon: (
                <svg
                    width="22"
                    height="15"
                    viewBox="0 0 22 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M11.1857 11.9212L19.4934 3.61342C19.5382 3.56858 19.5607 3.51408 19.5607 3.44992C19.5607 3.38575 19.5382 3.33125 19.4934 3.28642L18.5204 2.31342C18.4754 2.26858 18.4209 2.24617 18.3569 2.24617C18.2927 2.24617 18.2382 2.26858 18.1934 2.31342L9.88566 10.6212L11.1857 11.9212ZM4.91066 13.7307C3.42349 13.6473 2.30682 13.3166 1.56066 12.7384C0.81449 12.1603 0.441406 11.3423 0.441406 10.2844C0.441406 9.27175 0.866406 8.45033 1.71641 7.82017C2.56641 7.19 3.74782 6.80825 5.26066 6.67492C5.98766 6.61208 6.53291 6.48067 6.89641 6.28067C7.25974 6.08067 7.44141 5.80375 7.44141 5.44992C7.44141 4.95892 7.19557 4.58425 6.70391 4.32592C6.21224 4.06758 5.40616 3.882 4.28566 3.76917L4.42216 2.27867C5.95932 2.42484 7.09682 2.75625 7.83466 3.27292C8.57249 3.78958 8.94141 4.51525 8.94141 5.44992C8.94141 6.24342 8.63666 6.87258 8.02716 7.33742C7.41749 7.80208 6.53249 8.08125 5.37216 8.17492C4.22866 8.27108 3.37099 8.49417 2.79916 8.84417C2.22732 9.19417 1.94141 9.67425 1.94141 10.2844C1.94141 10.9063 2.17957 11.3688 2.65591 11.6722C3.13224 11.9753 3.90432 12.1615 4.97216 12.2307L4.91066 13.7307ZM11.4202 13.8094L7.99716 10.3864L17.3357 1.05767C17.6305 0.762834 17.9751 0.617001 18.3694 0.620168C18.7636 0.623334 19.1081 0.769168 19.4029 1.05767L20.7492 2.40367C21.044 2.69867 21.1914 3.04483 21.1914 3.44217C21.1914 3.83967 21.044 4.18583 20.7492 4.48067L11.4202 13.8094ZM8.07991 14.4999C7.85424 14.5538 7.65557 14.4948 7.48391 14.3229C7.31207 14.1511 7.25307 13.9524 7.30691 13.7269L7.99716 10.3864L11.4202 13.8094L8.07991 14.4999Z"
                        fill="currentColor"
                    />
                </svg>
            ),
            title: t("token_create"),
            href: '/token-create',
        },
        {
            icon: (
                <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M2.30775 19.5C1.80258 19.5 1.375 19.325 1.025 18.975C0.675 18.625 0.5 18.1974 0.5 17.6923V4.30777C0.5 3.80261 0.675 3.37502 1.025 3.02502C1.375 2.67502 1.80258 2.50002 2.30775 2.50002H10.9635L9.4635 4.00002H2.30775C2.23075 4.00002 2.16025 4.03211 2.09625 4.09627C2.03208 4.16027 2 4.23077 2 4.30777V17.6923C2 17.7693 2.03208 17.8398 2.09625 17.9038C2.16025 17.9679 2.23075 18 2.30775 18H15.6923C15.7692 18 15.8398 17.9679 15.9038 17.9038C15.9679 17.8398 16 17.7693 16 17.6923V10.473L17.5 8.97302V17.6923C17.5 18.1974 17.325 18.625 16.975 18.975C16.625 19.325 16.1974 19.5 15.6923 19.5H2.30775ZM6.5 13.5V10.0673L15.5598 1.00777C15.7148 0.852606 15.8853 0.739439 16.0712 0.668272C16.2571 0.597106 16.4462 0.561523 16.6385 0.561523C16.8347 0.561523 17.0231 0.597106 17.2038 0.668272C17.3846 0.739439 17.5493 0.849356 17.698 0.998022L18.9538 2.25002C19.0986 2.40519 19.2098 2.57636 19.2875 2.76352C19.365 2.95069 19.4038 3.14044 19.4038 3.33277C19.4038 3.52511 19.3708 3.71161 19.3048 3.89227C19.2388 4.07311 19.1282 4.24102 18.973 4.39602L9.8845 13.5H6.5ZM8 12H9.24625L15.4788 5.76727L14.8558 5.14427L14.1885 4.50202L8 10.6905V12Z"
                        fill="currentColor"
                    />
                </svg>
            ),
            title: t("NFTs"),
            href: '/nfts/create',
        },
        {
            icon: (
                <svg
                    width="18"
                    height="20"
                    viewBox="0 0 18 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M3 19.5C2.30133 19.5 1.71 19.258 1.226 18.774C0.742 18.29 0.5 17.6987 0.5 17V14.1155H3.5V0.5H17.5V17C17.5 17.6987 17.258 18.29 16.774 18.774C16.29 19.258 15.6987 19.5 15 19.5H3ZM15 18C15.2833 18 15.5208 17.9042 15.7125 17.7125C15.9042 17.5208 16 17.2833 16 17V2H5V14.1155H14V17C14 17.2833 14.0958 17.5208 14.2875 17.7125C14.4792 17.9042 14.7167 18 15 18ZM6.19225 6.69225V5.19225H14.8077V6.69225H6.19225ZM6.19225 9.577V8.077H14.8077V9.577H6.19225ZM3 18H12.5V15.6152H2V17C2 17.2833 2.09583 17.5208 2.2875 17.7125C2.47917 17.9042 2.71667 18 3 18ZM3 18H2H12.5H3Z"
                        fill="currentColor"
                    />
                </svg>
            ),
            title: t("history"),
            href: '/history',
        },
        {
            icon: (
                <svg
                    width="14"
                    height="10"
                    viewBox="0 0 14 10"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M2.36719 9.75V1.75H0.367188V0.25H3.86694V9.75H2.36719ZM5.25169 9.75V8.25H6.75169V9.75H5.25169ZM8.13644 9.75V8.25H11.8287C11.9184 8.25 11.992 8.22117 12.0497 8.1635C12.1075 8.10583 12.1364 8.03208 12.1364 7.94225V6.05775C12.1364 5.96792 12.1075 5.89417 12.0497 5.8365C11.992 5.77883 11.9184 5.75 11.8287 5.75H8.13644V0.25H13.6362V1.75H9.63619V4.25H11.8287C12.3337 4.25 12.7612 4.425 13.1112 4.775C13.4612 5.125 13.6362 5.55258 13.6362 6.05775V7.94225C13.6362 8.44742 13.4612 8.875 13.1112 9.225C12.7612 9.575 12.3326 9.75 11.8254 9.75H8.13644Z"
                        fill="currentColor"
                    />
                </svg>
            ),
            title: t("currency_display"),
            href: '/currency-display',
        },
    ]

    const scrollToTop = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth',
        });
    }

    return (
        <div className={`sticky flex flex-col text-[14px] gap-2 w-full min-w-[250px] bg-contrast1 rounded-lg p-6 ${isAtTop ? 'top-0' : 'top-[112px]'}`}>
            {NAV_ITEMS.map((item) => (
                <Link key={item.href} to={item.href} onClick={scrollToTop} className="flex items-center gap-5 transition-all py-2 px-3 rounded duration-200 group">
                    <div className="w-4 flex items-center">
                        <div className={`group-hover:text-grey60 duration-200 transition-all ${pathname === '/' && item.href === '/' || pathname !== '/' && item.href.includes(pathname) ? '[&>svg>path]:!fill-orange' : ''}`}>{item.icon}</div>
                    </div>
                    <div className={`font-[500] ${pathname === '/' && item.href === '/' || pathname !== '/' && item.href.includes(pathname) ? '!text-orange' : 'text-white'} transition-all duration-200 group-hover:text-grey60`}>{item.title}</div>
                </Link>
            ))}
        </div>
    )
}

export default Navigation